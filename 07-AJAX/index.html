<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="index.css" />
    <link rel="icon" href="JavaScript-logo.png" />
</head>
<body>
    <div class="container">
        <h1>Асинхронні запити. AJAX. JSON.</h1>
        
        <button id="load-moon-phase" class="btn btn-secondary">Фаза місяця</button>
        <div id="moon-phase"></div>

        <button id="load-rates" class="btn btn-primary">Завантажити курс</button>
        <div class="row justify-content-center my-2">
            <div class="col-md-6">
            <div class="search-container">
                <input id="search-rate" type="text" class="form-control search-input" placeholder="Search...">
                <i class="bi bi-search search-icon"></i>
            </div>
            </div>
        </div>
        <div id="rates"></div>        
        <p>
            JSON - JavaScript Object Notation - спосіб представлення даних у 
            вигляді об'єкту мовою JavaScript.
        </p>
        <p>Основні правила</p>
        <ul>
            <li>Примітиви: дані типу "число" (як ціле, так і дробове), true, false, null, 
                string (завжди у подвійних лапках "")</li>
            <li>Масив: перелік, поєднаний у квадратних дужках []</li>
            <li>Об'єкт: набір даних, поєднаний у фігурних дужках {}. 
                Задається форматом "ключ": значення, де ключ завжди береться
                у подвійні лапки "", значення - залежно від типу даних.
            </li>
        </ul>
        <p>
            Приклади правильного JSON:
            <br/>
            123
            <br/>
            "Hello"
            <br/>
            [1,2,"3"]
            <br/>
            {
                "x": 10,
                "y": 20
            }
            <br/>
            {
                "x": 10,
                "y": "string",
                "arr": [1,2,3],
                "obj": {"w": 30}
            }
        </p>
        <hr/>
        <p><b><i>AJAX</b></i> - Async JavaScript and XML - технологія виконання запитів на 
            сторонні ресурси (сервер, бекенд) без оновлення сторінки (асинхронно)
        </p>
        <p>Promise - об'єкт JavaScript, що є аналогом Task (у C#), який відповідає
            за виконання асинхронних задач.
        </p>
        <p>
            CORS / CORP (Cross Origin Resource Sharing / Policy) - домовленості щодо 
            обміну даними між різними джерелами (доменами). Стосується тільки fetch-запитів,
            оскільки від них запит формується як від іншого сайту. Тоді як запит
            браузера - це запит клієнта (не іншого сайту).
            Policy (обмеження) стосується того, що відповідь ресурсу має повідомити про 
            можливість її використання сторонніми ресурсами шляхом встановлення 
            спеціальних заголовків, зокрема, 'Access-Control-Allow-Origin'. 
            Якщо заголовку немає, то ресурс повинен ігнорувати (блокувати) одержані дані.
        </p>
        <hr/>
        <button class="btn btn-success" id="pause-btn">Pause</button>
        <button class="btn btn-warning" id="sequence-btn">Sequence</button>
    <div>        
        
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <script src="index.js"></script>
</body>
</html>